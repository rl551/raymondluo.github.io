<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Running it twice - Raymond Luo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- MathJax Configuration -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Raymond Luo</h1>
            <nav>
                <a href="index.html">About</a>
                <a href="projects.html">Projects</a>
                <a href="blog.html">Blog</a>
            </nav>
        </header>

        <main>
            <section>
                <div class="blog-nav">
                    <a href="blog.html">← Back to Blog</a>
                </div>
                
                <article class="blog-post-full">
                    <h1>Running it twice</h1>
                    <p class="blog-date">August 17, 2025</p>
                    
                    <div class="blog-content">
                        <p>In poker, when two or more players are all in before the river is revealed and there is no more action, they can choose to run it multiple times. Formally, there are $N=\min(n_1, n_2, \dots, n_k)$ runouts, where $n_i$ is the number of times player $i$ wants to run it, until the deck is depleted. On every run, cards are dealt without replacement from the deck and the winner of each run wins $\tfrac{1}{N}$ of the total pot.</p>
<p>When I first learned how to play poker, I was told running it multiple times is an attractive method for some because it keeps the EV the same but reduces variance. For a while, I never fully convinced myself why the EV stays the same but it turns out this is just a simple exercise in conditional expectation.</p>
<p>For simplificity, I will assume hero is all in on the turn (so there is one river card to be revealed) against a single villain and they run it twice. Let $X$ be the event that hero win a runout, $P$ be the size of the pot, $D$ be the deck of cards, and $S$ be the set of revealed cards. Hero's expected value is
$$
    \frac{P}{2}\cdot\mathbb{P}[X\mid S]+\frac{P}{2}\sum_{r\in D\backslash S, |r|=1}\mathbb{P}[X\mid S\cup{r}]\cdot\mathbb{P}[r]=\frac{P}{2}\cdot\mathbb{P}[X\mid S]+\frac{P}{2}\cdot\mathbb{E}[\mathbb{E}[(X\mid S)\mid r]].
$$
Since $\mathbb{E}[\mathbb{E}[(X\mid S)\mid r]]=\mathbb{E}[X\mid S]=\mathbb{P}[X\mid S]$, the expression simplifes to $P\cdot\mathbb{P}[X\mid S]$, as desired. It is easy to see that you can easily generalize this calculation to multiple players and runouts.</p>
                    </div>
                </article>
            </section>
        </main>

        <footer>
            <div class="contact-buttons">
                <a href="mailto:rayluo@mit.edu" class="btn btn-email" title="Email">✉</a>
                <a href="https://www.linkedin.com/in/raymondlu0/" target="_blank" class="btn btn-linkedin" title="LinkedIn">in</a>
            </div>
        </footer>
    </div>
</body>
</html>